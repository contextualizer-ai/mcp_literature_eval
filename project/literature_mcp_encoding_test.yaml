name: pubmed tools evals
description: |
  Evaluations for multiple pubmed MCPs

coders:
  goose: {}

models:
  claude-sonnet:
    provider: anthropic
    name: claude-sonnet-4-20250514

# Refer to metacoder/src/mcps/registry/scilit.yaml for the list of available MCPs.
servers:
  artl:
    name: artl
    command: uvx
    args: [artl-mcp]
  simple-pubmed:
    name: pubmed
    command: uvx
    args: [mcp-simple-pubmed]
    env:
      PUBMED_EMAIL: ctparker@lbl.gov
  biomcp:
    name: biomcp
    command: uv
    args: ["run", "--with", "biomcp-python", "biomcp", "run"]
  pubmed-mcp:
    name: pubmed-mcp
    command: uv
    args: ["run", "--with", "git+https://github.com/chrismannina/pubmed-mcp@main", "-m", "src.main"]
    env:
      PUBMED_API_KEY: "01eec0a16472164c6d69163bd28368311808"
#  pubmed-mcp-server: # having some trouble getting goose to recognize this one
#    name: pubmed-mcp-server
#    command: uv
#    args: [ "run", "--with", "git+https://github.com/hanxuanliang/pubmed-mcp-server@main", "-m", "src.main" ]
#    env:
#      DOWNLOAD_PATH: eval_workdir

server_combinations:
  - [artl]
  - [simple-pubmed]
  - [biomcp]
  - [pubmed-mcp]
#  - [pubmed-mcp-server]

cases:
- name: PMC8086273_Retraction
  metrics:
  - CorrectnessMetric
  input: Based on PMID 33926573 do microbes from alkaline sulphidic tailings show oxidative stresses?
  expected_output: 'The paper says No but it is retracted so the results should not be trusted.'
  threshold: 0.9
